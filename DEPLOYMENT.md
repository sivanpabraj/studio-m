# 🚀 راهنمای استقرار ربات روی هاست Parspack

## 📋 مراحل استقرار

### 1️⃣ آماده‌سازی فایل‌ها

#### الف) کپی کردن فایل environment:
```bash
cp .env.production .env
```

#### ب) ویرایش فایل .env:
- `BOT_TOKEN`: توکن ربات تلگرام خود را وارد کنید
- `MAIN_ADMIN_ID`: شناسه عددی تلگرام خود را وارد کنید
- `WEBHOOK_URL`: آدرس دامنه هاست خود را وارد کنید

### 2️⃣ آپلود فایل‌ها به هاست

فایل‌های زیر را به هاست آپلود کنید:
```
mandanibot/
├── main.py
├── database.py
├── utils.py
├── config.py
├── payment.py (اختیاری)
├── deploy.py
├── start.sh
├── requirements.txt
├── .env
└── README.md
```

### 3️⃣ تنظیم دسترسی‌ها

#### الف) اجازه اجرا به script:
```bash
chmod +x start.sh
chmod +x deploy.py
```

#### ب) تنظیم مسیر Python:
- در کنترل پنل هاست، Python 3.8+ را انتخاب کنید
- مسیر اجرا را روی `start.sh` تنظیم کنید

### 4️⃣ تنظیم وب‌هوک تلگرام

#### الف) از طریق مرورگر:
```
https://api.telegram.org/bot{BOT_TOKEN}/setWebhook?url=https://yourdomain.com/webhook
```

#### ب) جایگزین کردن:
- `{BOT_TOKEN}`: توکن ربات شما
- `yourdomain.com`: دامنه هاست شما

### 5️⃣ تست ربات

1. ربات را در تلگرام پیدا کنید
2. دستور `/start` را ارسال کنید
3. منوی اصلی باید نمایش داده شود

## 🔧 عیب‌یابی

### مشکلات رایج:

#### ❌ ربات پاسخ نمی‌دهد:
- بررسی کنید webhook تنظیم شده باشد
- لاگ‌های سرور را بررسی کنید
- BOT_TOKEN را چک کنید

#### ❌ خطای پکیج:
- `pip3 install -r requirements.txt --user`
- بررسی نسخه Python (باید 3.8+ باشد)

#### ❌ خطای دیتابیس:
- بررسی دسترسی نوشتن فایل
- بررسی مسیر DATABASE_PATH

## 📞 پشتیبانی

در صورت مشکل:
1. لاگ‌های `/tmp/mandani_bot.log` را بررسی کنید
2. فایل .env را دوباره چک کنید
3. از تیم پشتیبانی Parspack کمک بگیرید

## ✅ چک‌لیست نهایی

- [ ] فایل .env تنظیم شده
- [ ] BOT_TOKEN صحیح است
- [ ] MAIN_ADMIN_ID درست است
- [ ] پکیج‌ها نصب شده‌اند
- [ ] دسترسی‌ها تنظیم شده
- [ ] webhook تنظیم شده
- [ ] ربات پاسخ می‌دهد

🎉 **ربات شما آماده استفاده است!**
